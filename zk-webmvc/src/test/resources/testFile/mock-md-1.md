# 一、概述
# 1.1、整体说明
```mermaid
flowchart LR
    编包 --> 部署
    部署 -.-> 补丁开发
    部署 -.-> 新版本开发
```
# 二、部署发布
## 2.1、编包
```mermaid
flowchart LR
    subgraph 版本依赖
    版本依赖文档记录 --> 项目版本依赖修改
    end
    subgraph 更新代码
    修改代码版本依赖配置 --> 更新代码要
    end
    subgraph 编包
    end
    开始 --> 版本依赖 --> 更新代码 --> 编包 --> 结束
```
### 2.1.1 版本依赖记录文档
| 项目名 | 上一版本 | 当前版本 | 修改日期 | 修改人 | 影响范围 | 影响说明 |
| :- | - | - | - | - | - | - |
| 项目1 | v1.0.0 | v1.0.1 | 2022-01-05 | Vinson | 受影响的项目及功能模块 | 影响详细说明 |

## 2.2、部署
```mermaid
flowchart TB
    开始 --> 是否需要停服务 --> A{是/否}
    A --是--> 停服务
    A --否--> 数据及相关文件备份
    停服务 --> 数据及相关文件备份 --> 更新部署包 --> 是否需要相关数据或文件初始化 --> B{是/否} 
    B --是--> 相关数据或文件初始化
    B --否--> 发布新版本应用
    相关数据或文件初始化 --> 发布新版本应用 --> 回归测试是否通过 --> C{是/否}
    C --否--> 版本回滚版本依赖记录文档回滚 --> 结束
    C --是--> 代码封版(设置只读权限或封存) --> 结束
```
## 2.3、补丁开发
```mermaid
flowchart TB
    开始 --> 创建补丁版本代码分支 --> 补丁开发 --> 提交补丁 --> 编包 --> 部署
    部署 --> 是否已有新版代码 --> A{是/否}
    A --是--> 将补丁代码提交到新版代码中 --> 结束
    A --否--> 结束
```

# 三、注意点
1、要保证版本依赖记录的正常更新
2、版本功能清单及功能说明记录
3、功能影响范围及说明
4、注意新版本代码要注意补丁版本的代码是否需要包含，如果需要包含，不可遗漏




