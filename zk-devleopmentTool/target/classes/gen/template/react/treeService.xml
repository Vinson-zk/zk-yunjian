<?xml version="1.0" encoding="utf-8"?>
<zkCodeTemplate>
	<content><![CDATA[
/**
 *
 * @Author: 
 * @Date: 
 * @Last Modified by:   
 * @Last Modified time: 
 */

import { zkTools } from "zkFramework";
const { zkToolsAjax } = zkTools;

const api = globalAppConfig.apiPrefix${zkModule.moduleNameCap};
// const api = "apiMock";
/*
JSON.stringify(params)
contentType:'application/json; charset=utf-8'}
*/
// 编辑 
export async function edit${zkTableInfo.funcName}(params) {
    return zkToolsAjax.reqPretreatment(
        `/${"$"}{api}<#if zkTableInfo.subModuleName??&zkTableInfo.subModuleName != "">/${zkTableInfo.subModuleName?uncap_first}</#if>/${zkTableInfo.funcName?uncap_first}/${zkTableInfo.funcName?uncap_first}`, 
        {method:'POST', data:JSON.stringify(params), contentType:'application/json; charset=utf-8'},
        res=>{
            let filterCodes = ["zk.000002"];
            if(filterCodes.includes(res.code)){
                return true;
            } 
            return false
        }
        );
}

// 删除
export async function del${zkTableInfo.funcName}(params) {
    return zkToolsAjax.reqPretreatment(`/${"$"}{api}<#if zkTableInfo.subModuleName??&zkTableInfo.subModuleName != "">/${zkTableInfo.subModuleName?uncap_first}</#if>/${zkTableInfo.funcName?uncap_first}/${zkTableInfo.funcName?uncap_first}`, {method:'DELETE', data:params});
}

// 查询 详情
export async function get${zkTableInfo.funcName}(params) {
	return zkToolsAjax.reqPretreatment(`/${"$"}{api}<#if zkTableInfo.subModuleName??&zkTableInfo.subModuleName != "">/${zkTableInfo.subModuleName?uncap_first}</#if>/${zkTableInfo.funcName?uncap_first}/${zkTableInfo.funcName?uncap_first}`, {method:'GET', data:params});
}

// 查询 分页列表
export async function find${zkTableInfo.funcName}sTree(params) {
	return zkToolsAjax.reqPretreatment(`/${"$"}{api}<#if zkTableInfo.subModuleName??&zkTableInfo.subModuleName != "">/${zkTableInfo.subModuleName?uncap_first}</#if>/${zkTableInfo.funcName?uncap_first}/${zkTableInfo.funcName?uncap_first}sTree`, {method:'GET', data:params});
}

]]>
	</content>
</zkCodeTemplate>



